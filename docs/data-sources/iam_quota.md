---
subcategory: "IAM (Identity & Access Management)"
page_title: "RadosGW: radosgw_iam_quota"
description: |-
  Retrieves user-level quota information from RadosGW.
  Important: This data source reads quotas at the user level, not individual bucket quotas. There are two types:
  
  User quota (type = "user"): The total storage limit across ALL buckets owned by the user.
  Bucket quota (type = "bucket"): The per-bucket limit that applies to EACH bucket owned by the user.
---

# radosgw_iam_quota

Retrieves user-level quota information from RadosGW.

**Important:** This data source reads quotas at the **user level**, not individual bucket quotas. There are two types:

- **User quota** (`type = "user"`): The total storage limit across ALL buckets owned by the user.

- **Bucket quota** (`type = "bucket"`): The per-bucket limit that applies to EACH bucket owned by the user.

## Example Usage

```terraform
# Get user quota (total limit across all user's buckets)
data "radosgw_iam_quota" "user_quota" {
  user_id = radosgw_iam_user.example.user_id
  type    = "user"
}

# Get bucket quota (per-bucket limit for all user's buckets)
data "radosgw_iam_quota" "bucket_quota" {
  user_id = radosgw_iam_user.example.user_id
  type    = "bucket"
}

# Reference user resource
resource "radosgw_iam_user" "example" {
  user_id      = "example-user"
  display_name = "Example User"
}

# Output user quota details
output "user_quota" {
  description = "User's total quota across all buckets"
  value = {
    enabled     = data.radosgw_iam_quota.user_quota.enabled
    max_size    = data.radosgw_iam_quota.user_quota.max_size
    max_objects = data.radosgw_iam_quota.user_quota.max_objects
  }
}

# Output bucket quota details
output "bucket_quota" {
  description = "Per-bucket quota for user's buckets"
  value = {
    enabled     = data.radosgw_iam_quota.bucket_quota.enabled
    max_size    = data.radosgw_iam_quota.bucket_quota.max_size
    max_objects = data.radosgw_iam_quota.bucket_quota.max_objects
  }
}

# Check if quotas are enabled
output "quotas_enabled" {
  description = "Whether quotas are enabled"
  value = {
    user_quota_enabled   = data.radosgw_iam_quota.user_quota.enabled
    bucket_quota_enabled = data.radosgw_iam_quota.bucket_quota.enabled
  }
}
```

<!-- schema generated by tfplugindocs -->

## Argument Reference

The following arguments are supported:


* `type` - (Required) The quota type to retrieve:
  - `user`: Total quota across all user's buckets combined
  - `bucket`: Per-bucket quota applied to each bucket the user owns
* `user_id` - (Required) The user ID to retrieve quota for.



## Attributes Reference

The following attributes are exported:

* `enabled` - Whether the quota is enabled.
* `id` - The data source identifier in format `user_id:type`.
* `max_objects` - Maximum number of objects. `-1` means unlimited.
* `max_size` - Maximum size in bytes. `-1` means unlimited.
* `type` - See Argument Reference above.
* `user_id` - See Argument Reference above.

---
subcategory: "IAM (Identity & Access Management)"
page_title: "RadosGW: radosgw_iam_user_caps"
description: |-
  Retrieves the capabilities (administrative permissions) for a RadosGW user.
  Capabilities control what administrative operations a user can perform. Each capability has a type (e.g., users, buckets) and a permission level (read, write, or *).
---

# radosgw_iam_user_caps

Retrieves the capabilities (administrative permissions) for a RadosGW user.

Capabilities control what administrative operations a user can perform. Each capability has a type (e.g., `users`, `buckets`) and a permission level (`read`, `write`, or `*`).

## Example Usage

```terraform
# Get capabilities for an existing user
data "radosgw_iam_user_caps" "admin" {
  user_id = "admin-user"
}

# Get capabilities for a user created with a resource
data "radosgw_iam_user_caps" "example" {
  user_id = radosgw_iam_user.example.user_id

  depends_on = [radosgw_iam_user_caps.example]
}

# Reference user and caps resources
resource "radosgw_iam_user" "example" {
  user_id      = "example-user"
  display_name = "Example User"
}

resource "radosgw_iam_user_caps" "example" {
  user_id = radosgw_iam_user.example.user_id

  caps = [
    {
      type = "buckets"
      perm = "write"
    },
    {
      type = "users"
      perm = "*"
    }
  ]
}

# Output all capabilities
output "user_caps" {
  description = "All capabilities for the user"
  value       = data.radosgw_iam_user_caps.example.caps
}

# Check if user has specific capability
output "has_users_cap" {
  description = "Whether user has 'users' capability"
  value       = length([for cap in data.radosgw_iam_user_caps.example.caps : cap if cap.type == "users"]) > 0
}
```

<!-- schema generated by tfplugindocs -->

## Argument Reference

The following arguments are supported:


* `user_id` - (Required) The user ID to retrieve capabilities for.




## Attributes Reference

The following attributes are exported:

* `caps` - Set of capabilities assigned to the user. (see [below for nested schema](#nestedatt--caps))
* `id` - The data source identifier (same as user_id).
* `user_id` - See Argument Reference above.

<a id="nestedatt--caps"></a>
### Nested Schema for `caps`



- `perm` (String) The permission level: `*` (full access), `read`, or `write`.
- `type` (String) The capability type (e.g., `users`, `buckets`, `metadata`, `usage`, `zone`, `info`, `accounts`, `ratelimit`, `roles`, `user-policy`, `amz-cache`, `oidc-provider`, `bilog`, `mdlog`, `datalog`).

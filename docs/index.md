---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "radosgw Provider"
description: |-
  Terraform provider for managing Ceph RADOS Gateway (RadosGW) resources via Admin and S3 APIs.
  Required User Capabilities
  The RadosGW user configured in this provider requires specific capabilities to manage different resources:
  | Capability | Resources |
  |------------|-----------|
  | `users=*` | `radosgw_iam_user`, `radosgw_iam_subuser`, `radosgw_iam_access_key`, `radosgw_iam_user_caps`, `radosgw_iam_quota`, `radosgw_iam_user`, `radosgw_iam_users` |
  | `buckets=*` | `radosgw_s3_bucket`, `radosgw_s3_bucket_link`, `radosgw_s3_bucket_acl`, `radosgw_s3_bucket_policy`, `radosgw_s3_bucket_lifecycle_configuration` |
  | `oidc-provider=*` | `radosgw_iam_openid_connect_provider` |
  | `roles=*` | `radosgw_iam_role`, `radosgw_iam_role_policy`, `radosgw_iam_roles` |
  | `metadata=*` | `radosgw_iam_users` |
  To grant all required capabilities to a user:
  
  radosgw-admin caps add --uid=admin --caps="buckets=*;metadata=*;oidc-provider=*;roles=*;users=*"
---

# radosgw Provider

Terraform provider for managing Ceph RADOS Gateway (RadosGW) resources via Admin and S3 APIs.

## Required User Capabilities

The RadosGW user configured in this provider requires specific capabilities to manage different resources:

| Capability | Resources |
|------------|-----------|
| `users=*` | `radosgw_iam_user`, `radosgw_iam_subuser`, `radosgw_iam_access_key`, `radosgw_iam_user_caps`, `radosgw_iam_quota`, `radosgw_iam_user`, `radosgw_iam_users` |
| `buckets=*` | `radosgw_s3_bucket`, `radosgw_s3_bucket_link`, `radosgw_s3_bucket_acl`, `radosgw_s3_bucket_policy`, `radosgw_s3_bucket_lifecycle_configuration` |
| `oidc-provider=*` | `radosgw_iam_openid_connect_provider` |
| `roles=*` | `radosgw_iam_role`, `radosgw_iam_role_policy`, `radosgw_iam_roles` |
| `metadata=*` | `radosgw_iam_users` |

To grant all required capabilities to a user:

```bash
radosgw-admin caps add --uid=admin --caps="buckets=*;metadata=*;oidc-provider=*;roles=*;users=*"
```

## Example Usage

```terraform
# Configure the RadosGW Provider
provider "radosgw" {
  # RadosGW endpoint URL (required)
  # Can also be set via RADOSGW_ENDPOINT environment variable
  endpoint = "http://127.0.0.1:7480"

  # Access key for authentication (required)
  # Can also be set via RADOSGW_ACCESS_KEY environment variable
  access_key = "admin-access-key"

  # Secret key for authentication (required)
  # Can also be set via RADOSGW_SECRET_KEY environment variable
  secret_key = "admin-secret-key"
}

# Example using environment variables (recommended for production)
# export RADOSGW_ENDPOINT="http://rgw.example.com:7480"
# export RADOSGW_ACCESS_KEY="your-access-key"
# export RADOSGW_SECRET_KEY="your-secret-key"
#
# provider "radosgw" {}

# Example with TLS configuration using a CA certificate file
# provider "radosgw" {
#   endpoint                  = "https://rgw.example.com:7480"
#   access_key                = "admin-access-key"
#   secret_key                = "admin-secret-key"
#   root_ca_certificate_file  = "/path/to/ca-cert.pem"
# }

# Example with TLS configuration using inline CA certificate
# provider "radosgw" {
#   endpoint            = "https://rgw.example.com:7480"
#   access_key          = "admin-access-key"
#   secret_key          = "admin-secret-key"
#   root_ca_certificate = <<-EOT
#     -----BEGIN CERTIFICATE-----
#     MIIDXTCCAkWgAwIBAgIJAJC1...
#     -----END CERTIFICATE-----
#   EOT
# }

# Example with insecure TLS (skip certificate verification for HTTPS)
# WARNING: Only use this for development or testing environments with self-signed certs
# Note: This option has no effect on plain HTTP connections
# provider "radosgw" {
#   endpoint                   = "https://rgw.example.com:7480"
#   access_key                 = "admin-access-key"
#   secret_key                 = "admin-secret-key"
#   tls_insecure_skip_verify   = true
# }
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `access_key` (String) RadosGW access key. Can be set via the `RADOSGW_ACCESS_KEY` environment variable.
- `endpoint` (String) RadosGW endpoint URL. Can be set via the `RADOSGW_ENDPOINT` environment variable.
- `root_ca_certificate` (String) PEM-encoded root CA certificate content to use for TLS verification. Can be set via the `RADOSGW_ROOT_CA_CERTIFICATE` environment variable.
- `root_ca_certificate_file` (String) Path to a PEM-encoded root CA certificate file to use for TLS verification. Can be set via the `RADOSGW_ROOT_CA_CERTIFICATE_FILE` environment variable.
- `secret_key` (String, Sensitive) RadosGW secret key. Can be set via the `RADOSGW_SECRET_KEY` environment variable.
- `tls_insecure_skip_verify` (Boolean) Skip TLS certificate verification for HTTPS connections. This is useful when connecting to RadosGW with self-signed certificates or certificates signed by an untrusted CA. Has no effect on plain HTTP connections. Can be set via the `RADOSGW_TLS_INSECURE_SKIP_VERIFY` environment variable. Default is `false`.

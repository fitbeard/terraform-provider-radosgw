---
subcategory: "IAM (Identity & Access Management)"
page_title: "RadosGW: radosgw_iam_subuser"
description: |-
  Manages a RadosGW subuser. Subusers are additional identities under a parent user used for Swift API access. The full subuser ID has the format {user_id}:{subuser}. ~> Note: Ceph automatically generates one Swift secret key when creating a subuser (only one Swift key is allowed per subuser). Keys can be managed separately or replaced later using the radosgw_iam_access_key resource with key_type = "swift".
  ~> Note: Creating multiple subusers for a single user requires Ceph Squid (19.x) or higher. Older versions (Reef 18.x) may have issues with multiple subuser creation.
---

# radosgw_iam_subuser

Manages a RadosGW subuser. Subusers are additional identities under a parent user used for Swift API access. The full subuser ID has the format `{user_id}:{subuser}`. ~> **Note:** Ceph automatically generates one Swift secret key when creating a subuser (only one Swift key is allowed per subuser). Keys can be managed separately or replaced later using the `radosgw_iam_access_key` resource with `key_type = "swift"`.

~> **Note:** Creating multiple subusers for a single user requires Ceph Squid (19.x) or higher. Older versions (Reef 18.x) may have issues with multiple subuser creation.

## Example Usage

```terraform
# Create a Swift subuser with read-write access
resource "radosgw_iam_subuser" "swift" {
  user_id = radosgw_iam_user.example.user_id
  subuser = "swift"
  access  = "read-write"
}

# Create an S3 subuser with full control
resource "radosgw_iam_subuser" "s3_full" {
  user_id = radosgw_iam_user.example.user_id
  subuser = "s3admin"
  access  = "full-control"
}

# Create a read-only subuser
resource "radosgw_iam_subuser" "readonly" {
  user_id = radosgw_iam_user.example.user_id
  subuser = "reader"
  access  = "read"
}

# Reference user resource
resource "radosgw_iam_user" "example" {
  user_id      = "subuser-example"
  display_name = "Subuser Example User"
}

# Output the auto-generated secret key
output "swift_secret_key" {
  value     = radosgw_iam_subuser.swift.secret_key
  sensitive = true
}
```

<!-- schema generated by tfplugindocs -->

## Argument Reference

The following arguments are supported:


* `subuser` - (Required) The subuser name (without the parent user prefix). The full subuser ID will be `{user_id}:{subuser}`.
* `user_id` - (Required) The parent user ID.


* `access` - (Optional) Access level for the subuser. Valid values: `read`, `write`, `read-write`, `full-control`. Default: `read`.




## Attributes Reference

The following attributes are exported:

* `id` - The full subuser ID in the format `{user_id}:{subuser}`.
* `secret_key` - The auto-generated Swift secret key. This is the initial key created by Ceph when the subuser is created. ~> **Note:** For production use, consider managing keys explicitly with the `radosgw_iam_access_key` resource for rotation and lifecycle management. This field is computed (read-only) and will not detect or track external key changes.
* `subuser` - See Argument Reference above.
* `user_id` - See Argument Reference above.
* `access` - See Argument Reference above.
## Import

Import is supported using the following syntax:

```shell
# Import a subuser
# Format: user_id:subuser_name
terraform import radosgw_iam_subuser.swift "example-user:swift"
terraform import radosgw_iam_subuser.s3_full "example-user:s3admin"
```

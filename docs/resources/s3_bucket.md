---
subcategory: "S3 (Simple Storage)"
page_title: "RadosGW: radosgw_s3_bucket"
description: |-
  Manages an S3 bucket in Ceph RadosGW. This resource creates buckets via the S3 API and manages bucket configuration through both S3 and Admin APIs.
---

# radosgw_s3_bucket

Manages an S3 bucket in Ceph RadosGW. This resource creates buckets via the S3 API and manages bucket configuration through both S3 and Admin APIs.

## Example Usage

```terraform
# Create a basic bucket
resource "radosgw_s3_bucket" "example" {
  bucket = "my-example-bucket"
}

# Create a bucket with force_destroy enabled
# This allows the bucket to be deleted even if it contains objects
resource "radosgw_s3_bucket" "with_force_destroy" {
  bucket        = "my-temporary-bucket"
  force_destroy = true
}

# Create a bucket with object lock enabled
# Note: object_lock_enabled cannot be changed after creation
resource "radosgw_s3_bucket" "with_object_lock" {
  bucket              = "my-compliance-bucket"
  object_lock_enabled = true
}

# Create a bucket with versioning enabled
resource "radosgw_s3_bucket" "with_versioning" {
  bucket     = "my-versioned-bucket"
  versioning = "enabled"
}

# Create a bucket with quota limits
resource "radosgw_s3_bucket" "with_quota" {
  bucket = "my-quota-bucket"

  bucket_quota = {
    enabled     = true
    max_size    = 10737418240 # 10 GB in bytes
    max_objects = 10000
  }
}

# Create a bucket for a specific tenant
# Note: tenant cannot be changed after creation
resource "radosgw_s3_bucket" "with_tenant" {
  bucket = "my-tenant-bucket"
  tenant = "mytenant"
}

# Create a fully configured bucket
resource "radosgw_s3_bucket" "full_example" {
  bucket        = "my-full-bucket"
  force_destroy = true
  versioning    = "enabled"

  bucket_quota = {
    enabled     = true
    max_size    = 53687091200 # 50 GB
    max_objects = 100000
  }
}

# To manage bucket ACLs, use the radosgw_s3_bucket_acl resource
# See radosgw_s3_bucket_acl documentation for examples

# To transfer bucket ownership, use the radosgw_s3_bucket_link resource
# Note: After transferring ownership, bucket_acl and bucket_policy
# can only be managed with the new owner's credentials
# See radosgw_s3_bucket_link documentation for examples
```

<!-- schema generated by tfplugindocs -->

## Argument Reference

The following arguments are supported:


* `bucket` - (Required) The name of the bucket. Must be unique within the RadosGW cluster. Bucket names must be between 3 and 63 characters, start with a lowercase letter or number, and contain only lowercase letters, numbers, and hyphens.


* `bucket_quota` - (Optional) Quota settings for this specific bucket. Managed via the Admin API. (see [below for nested schema](#nestedatt--bucket_quota))
* `force_destroy` - (Optional) Whether to delete all objects in the bucket when destroying the resource. Uses the Admin API with purge-objects option. Default is false.
* `object_lock_enabled` - (Optional) Whether S3 Object Lock is enabled for the bucket. Can only be set at creation time and cannot be modified afterwards.
* `tenant` - (Optional) The tenant the bucket belongs to. Can only be set at creation time. When set, the bucket is created with the tenant prefix.
* `versioning` - (Optional) The versioning state of the bucket. Valid values: 'off', 'enabled', 'suspended'. Default is 'off'.




## Attributes Reference

The following attributes are exported:

* `acl` - The canned ACL of the bucket. This is a read-only attribute. To manage bucket ACLs, use the `radosgw_s3_bucket_acl` resource.
* `creation_time` - The creation time of the bucket in RFC3339 format.
* `explicit_placement` - Explicit placement configuration showing the RADOS pools used for the bucket. (see [below for nested schema](#nestedatt--explicit_placement))
* `id` - The unique identifier of the bucket assigned by RadosGW.
* `index_type` - The type of bucket index (e.g., 'Normal').
* `marker` - The internal bucket marker used by RadosGW.
* `num_shards` - The number of shards for the bucket index.
* `owner` - The user ID of the bucket owner. This is a read-only attribute reflecting the current owner. The bucket is owned by the user whose credentials are used in the provider. To transfer ownership, use the `radosgw_s3_bucket_link` resource.
* `placement_rule` - The placement rule for the bucket, determining which pools store the bucket's data.
* `zonegroup` - The zonegroup ID where the bucket is located.
* `bucket` - See Argument Reference above.
* `bucket_quota` - See Argument Reference above.
* `force_destroy` - See Argument Reference above.
* `object_lock_enabled` - See Argument Reference above.
* `tenant` - See Argument Reference above.
* `versioning` - See Argument Reference above.

<a id="nestedatt--bucket_quota"></a>
### Nested Schema for `bucket_quota`



- `enabled` (Boolean) Whether the bucket quota is enabled.
- `max_objects` (Number) Maximum number of objects. -1 means unlimited.
- `max_size` (Number) Maximum size in bytes. -1 means unlimited.



<a id="nestedatt--explicit_placement"></a>
### Nested Schema for `explicit_placement`



- `data_extra_pool` (String) The RADOS pool for storing extra object data (e.g., multipart uploads).
- `data_pool` (String) The RADOS pool for storing object data.
- `index_pool` (String) The RADOS pool for storing the bucket index.

## Import

Import is supported using the following syntax:

```shell
# Import a bucket by name
terraform import radosgw_s3_bucket.example "my-bucket-name"

# Import a bucket with special characters in the name
terraform import radosgw_s3_bucket.logs "my-app-logs-2024"
```
